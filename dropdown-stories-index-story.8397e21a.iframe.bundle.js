"use strict";(self.webpackChunkgutenberg=self.webpackChunkgutenberg||[]).push([[5735],{"./packages/components/src/dropdown/dropdown-content-wrapper.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{B:()=>DropdownContentWrapper,Z:()=>dropdown_content_wrapper});var use_context_system=__webpack_require__("./packages/components/src/ui/context/use-context-system.js"),context_connect=__webpack_require__("./packages/components/src/ui/context/context-connect.ts"),emotion_styled_base_browser_esm=__webpack_require__("./node_modules/@emotion/styled/base/dist/emotion-styled-base.browser.esm.js"),emotion_react_browser_esm=__webpack_require__("./node_modules/@emotion/react/dist/emotion-react.browser.esm.js"),space=__webpack_require__("./packages/components/src/ui/utils/space.ts");const DropdownContentWrapperDiv=(0,emotion_styled_base_browser_esm.Z)("div",{target:"eovvns30"})("margin-left:",(0,space.D)(-2),";margin-right:",(0,space.D)(-2),";&:first-of-type{margin-top:",(0,space.D)(-2),";}&:last-of-type{margin-bottom:",(0,space.D)(-2),";}",(({paddingSize="small"})=>{if("none"===paddingSize)return;const paddingValues={small:(0,space.D)(2),medium:(0,space.D)(4)};return(0,emotion_react_browser_esm.iv)("padding:",paddingValues[paddingSize]||paddingValues.small,";","")}),";");var jsx_runtime=__webpack_require__("./node_modules/react/jsx-runtime.js");function UnconnectedDropdownContentWrapper(props,forwardedRef){const{paddingSize="small",...derivedProps}=(0,use_context_system.y)(props,"DropdownContentWrapper");return(0,jsx_runtime.jsx)(DropdownContentWrapperDiv,{...derivedProps,paddingSize,ref:forwardedRef})}UnconnectedDropdownContentWrapper.displayName="UnconnectedDropdownContentWrapper";const DropdownContentWrapper=(0,context_connect.Iq)(UnconnectedDropdownContentWrapper,"DropdownContentWrapper"),dropdown_content_wrapper=DropdownContentWrapper;try{DropdownContentWrapper.displayName="DropdownContentWrapper",DropdownContentWrapper.__docgenInfo={description:'A convenience wrapper for the `renderContent` when you want to apply\ndifferent padding. (Default is `paddingSize="small"`).\n\n```jsx\nimport {\n  Dropdown,\n  __experimentalDropdownContentWrapper as DropdownContentWrapper,\n} from \'@wordpress/components\';\n\n<Dropdown\n  renderContent={ () => (\n    <DropdownContentWrapper paddingSize="medium">\n      My dropdown content\n    </DropdownContentWrapper>\n) }\n/>\n```',displayName:"DropdownContentWrapper",props:{paddingSize:{defaultValue:{value:"'small'"},description:"Amount of padding to apply on the dropdown content.",name:"paddingSize",required:!1,type:{name:"enum",value:[{value:'"small"'},{value:'"none"'},{value:'"medium"'}]}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/dropdown/dropdown-content-wrapper.tsx#DropdownContentWrapper"]={docgenInfo:DropdownContentWrapper.__docgenInfo,name:"DropdownContentWrapper",path:"packages/components/src/dropdown/dropdown-content-wrapper.tsx#DropdownContentWrapper"})}catch(__react_docgen_typescript_loader_error){}},"./packages/components/src/dropdown/index.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{Z:()=>__WEBPACK_DEFAULT_EXPORT__});var classnames__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/classnames/index.js"),classnames__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(classnames__WEBPACK_IMPORTED_MODULE_0__),_wordpress_element__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./node_modules/react/index.js"),_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./packages/compose/build-module/hooks/use-merge-refs/index.js"),_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("./packages/deprecated/build-module/index.js"),_ui_context__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/src/ui/context/use-context-system.js"),_ui_context__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./packages/components/src/ui/context/context-connect.ts"),_popover__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./packages/components/src/popover/index.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./node_modules/react/jsx-runtime.js");const UnconnectedDropdown=(props,forwardedRef)=>{const{renderContent,renderToggle,className,contentClassName,expandOnMobile,headerTitle,focusOnMount,popoverProps,onClose,onToggle,style,position,variant}=(0,_ui_context__WEBPACK_IMPORTED_MODULE_3__.y)(props,"Dropdown");void 0!==position&&(0,_wordpress_deprecated__WEBPACK_IMPORTED_MODULE_4__.Z)("`position` prop in wp.components.Dropdown",{since:"6.2",alternative:"`popoverProps.placement` prop",hint:"Note that the `position` prop will override any values passed through the `popoverProps.placement` prop."});const[fallbackPopoverAnchor,setFallbackPopoverAnchor]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(null),containerRef=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useRef)(),[isOpen,setIsOpen]=function useObservableState(initialState,onStateChange){const[state,setState]=(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useState)(initialState);return[state,value=>{setState(value),onStateChange&&onStateChange(value)}]}(!1,onToggle);function close(){onClose&&onClose(),setIsOpen(!1)}(0,_wordpress_element__WEBPACK_IMPORTED_MODULE_2__.useEffect)((()=>()=>{onToggle&&isOpen&&onToggle(!1)}),[onToggle,isOpen]);const args={isOpen,onToggle:function toggle(){setIsOpen(!isOpen)},onClose:close},popoverPropsHaveAnchor=!!(popoverProps?.anchor||popoverProps?.anchorRef||popoverProps?.getAnchorRect||popoverProps?.anchorRect);return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsxs)("div",{className,ref:(0,_wordpress_compose__WEBPACK_IMPORTED_MODULE_5__.Z)([containerRef,forwardedRef,setFallbackPopoverAnchor]),tabIndex:-1,style,children:[renderToggle(args),isOpen&&(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(_popover__WEBPACK_IMPORTED_MODULE_6__.ZP,{position,onClose:close,onFocusOutside:function closeIfFocusOutside(){if(!containerRef.current)return;const{ownerDocument}=containerRef.current,dialog=ownerDocument?.activeElement?.closest('[role="dialog"]');containerRef.current.contains(ownerDocument.activeElement)||dialog&&!dialog.contains(containerRef.current)||close()},expandOnMobile,headerTitle,focusOnMount,offset:13,anchor:popoverPropsHaveAnchor?void 0:fallbackPopoverAnchor,variant,...popoverProps,className:classnames__WEBPACK_IMPORTED_MODULE_0___default()("components-dropdown__content",popoverProps?.className,contentClassName),children:renderContent(args)})]})};UnconnectedDropdown.displayName="UnconnectedDropdown";const Dropdown=(0,_ui_context__WEBPACK_IMPORTED_MODULE_7__.Iq)(UnconnectedDropdown,"Dropdown"),__WEBPACK_DEFAULT_EXPORT__=Dropdown;try{Dropdown.displayName="Dropdown",Dropdown.__docgenInfo={description:'Renders a button that opens a floating content modal when clicked.\n\n```jsx\nimport { Button, Dropdown } from \'@wordpress/components\';\n\nconst MyDropdown = () => (\n  <Dropdown\n    className="my-container-class-name"\n    contentClassName="my-dropdown-content-classname"\n    popoverProps={ { placement: \'bottom-start\' } }\n    renderToggle={ ( { isOpen, onToggle } ) => (\n      <Button\n        variant="primary"\n        onClick={ onToggle }\n        aria-expanded={ isOpen }\n      >\n        Toggle Dropdown!\n      </Button>\n    ) }\n    renderContent={ () => <div>This is the content of the dropdown.</div> }\n  />\n);\n```',displayName:"Dropdown",props:{className:{defaultValue:null,description:"The className of the global container.",name:"className",required:!1,type:{name:"string"}},contentClassName:{defaultValue:null,description:"If you want to target the dropdown menu for styling purposes,\nyou need to provide a contentClassName because it's not being rendered\nas a child of the container node.",name:"contentClassName",required:!1,type:{name:"string"}},expandOnMobile:{defaultValue:{value:"false"},description:"Opt-in prop to show popovers fullscreen on mobile.",name:"expandOnMobile",required:!1,type:{name:"boolean"}},focusOnMount:{defaultValue:{value:"'firstElement'"},description:'By default, the first tabbable element in the popover will receive focus\nwhen it mounts. This is the same as setting this prop to "firstElement".\nSpecifying a true value will focus the container instead.\nSpecifying a false value disables the focus handling entirely\n(this should only be done when an appropriately accessible\nsubstitute behavior exists).',name:"focusOnMount",required:!1,type:{name:'boolean | "firstElement"'}},headerTitle:{defaultValue:null,description:"Set this to customize the text that is shown in the dropdown's header\nwhen it is fullscreen on mobile.",name:"headerTitle",required:!1,type:{name:"string"}},onClose:{defaultValue:null,description:"A callback invoked when the popover should be closed.",name:"onClose",required:!1,type:{name:"() => void"}},onToggle:{defaultValue:null,description:"A callback invoked when the state of the popover changes\nfrom open to closed and vice versa.\nThe callback receives a boolean as a parameter.\nIf true, the popover will open.\nIf false, the popover will close.",name:"onToggle",required:!1,type:{name:"(willOpen: boolean) => void"}},popoverProps:{defaultValue:null,description:"Properties of popoverProps object will be passed as props\nto the Popover component.\nUse this object to access properties/features\nof the Popover component that are not already exposed\nin the Dropdown component,\ne.g.: the ability to have the popover without an arrow.",name:"popoverProps",required:!1,type:{name:'Omit<Pick<Omit<WordPressComponentProps<PopoverProps, "div", false>, "style" | "onDrag" | "onDragEnd" | "onDragStart" | "onAnimationStart" | ... 51 more ... | "ignoreStrict"> & RefAttributes<...>, "slot" | ... 248 more ... | keyof PopoverProps>, "children">'}},renderContent:{defaultValue:null,description:"A callback invoked to render the content of the dropdown menu.\nIts first argument is the same as the renderToggle prop.",name:"renderContent",required:!0,type:{name:"(props: CallbackProps) => ReactNode"}},renderToggle:{defaultValue:null,description:"A callback invoked to render the Dropdown Toggle Button.\n\nThe first argument of the callback is an object\ncontaining the following properties:\n\n- isOpen: whether the dropdown menu is opened or not\n- onToggle: A function switching the dropdown menu's state\nfrom open to closed and vice versa\n- onClose: A function that closes the menu if invoked",name:"renderToggle",required:!0,type:{name:"(props: CallbackProps) => ReactNode"}},style:{defaultValue:null,description:"The style of the global container.",name:"style",required:!1,type:{name:"CSSProperties"}},position:{defaultValue:null,description:"Legacy way to specify the popover's position with respect to its anchor.\nFor details about the possible values, see the `Popover` component's docs.\n_Note: this prop is deprecated. Use the `popoverProps.placement` prop\ninstead._\n@deprecated",name:"position",required:!1,type:{name:"enum",value:[{value:'"middle"'},{value:'"bottom"'},{value:'"top"'},{value:'"middle left"'},{value:'"middle center"'},{value:'"middle right"'},{value:'"bottom left"'},{value:'"bottom center"'},{value:'"bottom right"'},{value:'"top left"'},{value:'"top center"'},{value:'"top right"'},{value:'"middle left left"'},{value:'"middle left right"'},{value:'"middle left bottom"'},{value:'"middle left top"'},{value:'"middle center left"'},{value:'"middle center right"'},{value:'"middle center bottom"'},{value:'"middle center top"'},{value:'"middle right left"'},{value:'"middle right right"'},{value:'"middle right bottom"'},{value:'"middle right top"'},{value:'"bottom left left"'},{value:'"bottom left right"'},{value:'"bottom left bottom"'},{value:'"bottom left top"'},{value:'"bottom center left"'},{value:'"bottom center right"'},{value:'"bottom center bottom"'},{value:'"bottom center top"'},{value:'"bottom right left"'},{value:'"bottom right right"'},{value:'"bottom right bottom"'},{value:'"bottom right top"'},{value:'"top left left"'},{value:'"top left right"'},{value:'"top left bottom"'},{value:'"top left top"'},{value:'"top center left"'},{value:'"top center right"'},{value:'"top center bottom"'},{value:'"top center top"'},{value:'"top right left"'},{value:'"top right right"'},{value:'"top right bottom"'},{value:'"top right top"'}]}},as:{defaultValue:null,description:"The HTML element or React component to render the component as.",name:"as",required:!1,type:{name:"any"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/dropdown/index.tsx#Dropdown"]={docgenInfo:Dropdown.__docgenInfo,name:"Dropdown",path:"packages/components/src/dropdown/index.tsx#Dropdown"})}catch(__react_docgen_typescript_loader_error){}},"./packages/components/src/ui/utils/space.ts":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.d(__webpack_exports__,{D:()=>space});const GRID_BASE="4px";function space(value){if(void 0===value)return;if(!value)return"0";const asInt="number"==typeof value?value:Number(value);return"undefined"!=typeof window&&window.CSS?.supports?.("margin",value.toString())||Number.isNaN(asInt)?value.toString():`calc(${GRID_BASE} * ${value})`}},"./packages/components/src/dropdown/stories/index.story.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__,Default:()=>Default,WithMorePadding:()=>WithMorePadding,WithNoPadding:()=>WithNoPadding,__namedExportsOrder:()=>__namedExportsOrder});var ___WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./packages/components/src/dropdown/index.tsx"),_button__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("./packages/components/src/button/index.tsx"),_dropdown_content_wrapper__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("./packages/components/src/dropdown/dropdown-content-wrapper.tsx"),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./node_modules/react/jsx-runtime.js");const __WEBPACK_DEFAULT_EXPORT__={title:"Components/Dropdown",component:___WEBPACK_IMPORTED_MODULE_1__.Z,subcomponents:{DropdownContentWrapper:_dropdown_content_wrapper__WEBPACK_IMPORTED_MODULE_2__.B},argTypes:{focusOnMount:{options:["firstElement",!0,!1],control:{type:"radio"}},position:{control:{type:null}},renderContent:{control:{type:null}},renderToggle:{control:{type:null}}},parameters:{sourceLink:"packages/components/src/dropdown",controls:{expanded:!0}}},Template=args=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{height:150},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(___WEBPACK_IMPORTED_MODULE_1__.Z,{...args})});Template.displayName="Template";const Default=Template.bind({});Default.args={renderToggle:({isOpen,onToggle})=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_button__WEBPACK_IMPORTED_MODULE_3__.ZP,{onClick:onToggle,"aria-expanded":isOpen,variant:"primary",children:"Open dropdown"}),renderContent:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{children:"This is the dropdown content."})};const WithMorePadding=Template.bind({});WithMorePadding.args={...Default.args,renderContent:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_dropdown_content_wrapper__WEBPACK_IMPORTED_MODULE_2__.B,{paddingSize:"medium",children:["Content wrapped with ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:'paddingSize="medium"'}),"."]})};const WithNoPadding=Template.bind({});WithNoPadding.args={...Default.args,renderContent:()=>(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(_dropdown_content_wrapper__WEBPACK_IMPORTED_MODULE_2__.B,{paddingSize:"none",children:["Content wrapped with ",(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("code",{children:'paddingSize="none"'}),"."]})},Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"args => {\n  return <div style={{\n    height: 150\n  }}>\n            <Dropdown {...args} />\n        </div>;\n}",...Default.parameters?.docs?.source}}},WithMorePadding.parameters={...WithMorePadding.parameters,docs:{...WithMorePadding.parameters?.docs,source:{originalSource:"args => {\n  return <div style={{\n    height: 150\n  }}>\n            <Dropdown {...args} />\n        </div>;\n}",...WithMorePadding.parameters?.docs?.source},description:{story:'To apply more padding to the dropdown content, use the provided `<DropdownContentWrapper>`\nconvenience wrapper. A `paddingSize` of `"medium"` is suitable for relatively larger dropdowns (default is `"small"`).',...WithMorePadding.parameters?.docs?.description}}},WithNoPadding.parameters={...WithNoPadding.parameters,docs:{...WithNoPadding.parameters?.docs,source:{originalSource:"args => {\n  return <div style={{\n    height: 150\n  }}>\n            <Dropdown {...args} />\n        </div>;\n}",...WithNoPadding.parameters?.docs?.source},description:{story:'The `<DropdownContentWrapper>` convenience wrapper can also be used to remove padding entirely,\nwith a `paddingSize` of `"none"`. This can also serve as a clean foundation to add arbitrary\npaddings, for example when child components already have padding on their own.',...WithNoPadding.parameters?.docs?.description}}};const __namedExportsOrder=["Default","WithMorePadding","WithNoPadding"];try{WithMorePadding.displayName="WithMorePadding",WithMorePadding.__docgenInfo={description:'To apply more padding to the dropdown content, use the provided `<DropdownContentWrapper>`\nconvenience wrapper. A `paddingSize` of `"medium"` is suitable for relatively larger dropdowns (default is `"small"`).',displayName:"WithMorePadding",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/dropdown/stories/index.story.tsx#WithMorePadding"]={docgenInfo:WithMorePadding.__docgenInfo,name:"WithMorePadding",path:"packages/components/src/dropdown/stories/index.story.tsx#WithMorePadding"})}catch(__react_docgen_typescript_loader_error){}try{WithNoPadding.displayName="WithNoPadding",WithNoPadding.__docgenInfo={description:'The `<DropdownContentWrapper>` convenience wrapper can also be used to remove padding entirely,\nwith a `paddingSize` of `"none"`. This can also serve as a clean foundation to add arbitrary\npaddings, for example when child components already have padding on their own.',displayName:"WithNoPadding",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["packages/components/src/dropdown/stories/index.story.tsx#WithNoPadding"]={docgenInfo:WithNoPadding.__docgenInfo,name:"WithNoPadding",path:"packages/components/src/dropdown/stories/index.story.tsx#WithNoPadding"})}catch(__react_docgen_typescript_loader_error){}}}]);